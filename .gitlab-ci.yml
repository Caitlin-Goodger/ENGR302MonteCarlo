stages:
  - Build
  - Test
  - Deploy

build:
  stage: Build
  tags:
    - shell
  script:
    - cd lib/openrocketjava/
    - ant clean
    - ant jar
  artifacts:
    paths:
      - lib/build/jar/OpenRocket.jar
    expire_in: 1 week

unittest:
  stage: Test
  tags:
    - shell
  script:
    - cd lib/openrocketjava/
    - ant unittest
  allow_failure: false

deploy:
  stage: Deploy
  tags:
    - shell
  script:
    - echo "deploy"
    - exit 0
  allow_failure: true
